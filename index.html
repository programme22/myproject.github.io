<!DOCTYPE html>
<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
		<link href="http://code.jquery.com/ui/1.10.4/themes/ui-lightness/jquery-ui.css" rel="stylesheet">
		<script src="http://code.jquery.com/ui/1.10.4/jquery-ui.js"></script>
		<style>
			body{
				background-image:linear-gradient(white,blue);
				}
			h1{
			   text-align:center;
			   font-size:25;
			   font-style:bold;
			   color:blue;
			   text-decoration:underline;
			  }
			p{
			  color:white;
			 } 		
			 table,td{
				text-align:center;
				margin-top:2px;
				margin-bottom:2px;
				margin-right:30px;
				margin-left:30px;
				padding: 15px;
				font-family:Arial;
				font-size:20px;
			}
			hr{
				10px solid white;
			}
			input[type="radio"]{
				height:20px;
				width:20px;
			}
			input[type="button"]{
				background-color:cyan;
				border-radius:20px;
				height:30px;
				cursor:pointer;
			}
			#datearea{
				padding:0px;
				margin:80px;
				z-index:1;
				border-radius:20px;
				background-color:white;
				box-shadow:10px 8px 10px black,10px 12px 10px gray;
			}
			#hmeromhniaPlhrwmhs{
				color:black;
				}
			#hmera,#shmera{
				border-radius:20px;
			}
			#hmeres{
				color:black;
				}
		</style>
		<script language="javascript">

		function checkmetrisi(proigMetrhm)
		{
			if ((proigMetrhm.value.length!=6) || (proigMetrhm.value.charAt(0)!="0") || (isNaN(proigMetrhm.value)) || (proigMetrhm.value<0))
			{
				var e="Η μέτρηση πρέπει να ξεκινάει με 0 να έχει μόνο 6 ψηφία";
					 document.getElementById("errorMessage1").innerHTML=e;
					 x=document.getElementById("errorMessage1");
					 x.style.color="red";
					 x.focus();
			}
			else if(proigMetrhm.value.length==6)  (proigMetrhm.value.charAt(0)="0")
			{
				x=document.getElementById("errorMessage1");
				x.style.display="none";
			}
		}
		function checkmetrisi2(toriniMetrhm)
		{
			if ((toriniMetrhm.value.length!=6) || (toriniMetrhm.value.charAt(0)="0") || (isNaN(toriniMetrhm.value)) || (toriniMetrhm.value<0))
			{
				var e="Η μέτρηση πρέπει να ξεκινάει με 0 να έχει μόνο 6 ψηφία";
					 x=document.getElementById("errorMessage2");
					 x.innerHTML=e;
					 x.style.color="red";
					 x.value=" ";
					 x.focus();
			}
		}
		function checkmetrisi3(proigMetrny)
		{
			if ((proigMetrny.value.length!=6) || (proigMetrny.value.charAt(0)="0") || (isNaN(proigMetrny.value)) || (proigMetrny.value<0))
			{
				var e="Η μέτρηση πρέπει να ξεκινάει με 0 να έχει μόνο 6 ψηφία";
					 x=document.getElementById("errorMessage2");
					 x.innerHTML=e;
					 x.style.color="red";
					 x.value=" ";
					 x.focus();
			}
		}
		function checkmetrisi3(proigMetrny)
		{
			if ((proigMetrny.value.length!=6) || (proigMetrny.value.charAt(0)="0") || (isNaN(proigMetrny.value)) || (proigMetrny.value<0))
			{
				var e="Η μέτρηση πρέπει να ξεκινάει με 0 να έχει μόνο 6 ψηφία";
					 x=document.getElementById("errorMessage3");
					 x.innerHTML=e;
					 x.style.color="red";
					 x.value=" ";
					 x.focus();
			}
		}
		function checkmetrisi4(toriniMetrny)
		{
			if ((toriniMetrny.value.length!=6) || (toriniMetrny.value.charAt(0)="0") || (isNaN(toriniMetrny.value)) || (toriniMetrny.value<0))
			{
				var e="Η μέτρηση πρέπει να ξεκινάει με 0 να έχει μόνο 6 ψηφία";
					 x=document.getElementById("errorMessage4");
					 x.innerHTML=e;
					 x.style.color="red";
					 x.value=" ";
					 x.focus();
			}
		}
		function diaforaHmerasNyxtas(toriniMetrhm,proigMetrhm,toriniMetrny,proigMetrny,s)
		{
			if (s[0].checked)
			{
			var diafhm=parseInt(toriniMetrhm.value)-parseInt(proigMetrhm.value);
			window.alert("Η διαφορά μετρήσεων ημέρας είναι: "+diafhm+" kwh");
			var diafny=parseInt(toriniMetrny.value)-parseInt(proigMetrny.value);
			window.alert("Η διαφορά μετρήσεων νύχτας είναι: "+diafny+" kwh");
			var pagio=2.90; //προηγούμενο πάγιο 9.57//προηγούμενο πάγιο 3.58
			var mera=diafhm*0.11;			//diaforaHmerasNyxtas
			var nyxta=diafny*0.07850;
			var reuma=mera+nyxta;
			var total=pagio+reuma+" €";		// synoliko poso plhrwmhs
			document.getElementById("typLog").innerHTML="Μηνιαίος";
			document.getElementById("poso_meras").innerHTML= mera;
			document.getElementById("poso_nyxtas").innerHTML= nyxta;
			document.getElementById("syn_poso_reumatos").innerHTML= total;
		   }
		   else if (s[1].checked) 
		   {
			var diafhm=parseInt(toriniMetrhm.value)-parseInt(proigMetrhm.value);
			window.alert("Η διαφορά μετρήσεων ημέρας είναι: "+diafhm+" kwh");
			var diafny=parseInt(toriniMetrny.value)-parseInt(proigMetrny.value);
			window.alert("Η διαφορά μετρήσεων νύχτας είναι: "+diafny+" kwh");
			var rithmXrewseis=127.04;
			var fpa=12.78;
			var xrewseisDhmou=19.34;
			var telosErt=11.74;
			var pagio=11.50; //προηγούμενο πάγιο 9.57 //προηγούμενο πάγιο 3.58
			var mera=diafhm*0.11;			//diaforaHmerasNyxtas
			var nyxta=diafny*0.07850;
			var reuma=mera+nyxta;
			var xrewshPromithReumatos=((parseFloat(reuma)*0.45)+parseFloat(pagio));
			var total=xrewshPromithReumatos+rithmXrewseis+fpa+xrewseisDhmou+telosErt+" €";	// synoliko poso plhrwmhs 
			document.getElementById("typLog").innerHTML="Τετράμηνος";
			document.getElementById("poso_meras").innerHTML= mera+" €";
			document.getElementById("poso_nyxtas").innerHTML= nyxta+" €";
			document.getElementById("syn_poso_reumatos").innerHTML=xrewshPromithReumatos;  
			document.getElementById("syn_poso_log").innerHTML= total; 
		   }
		}
		function notify(){
			var dateshmera= new Date(document.getElementById("shmera").value);
			var dateend= new Date(document.getElementById("hmera").value);
			var diafwr=dateshmera.getTime()-dateend.getTime();
			var diafhmer=Math.abs(diafwr/(1000*3600*24));
			if(diafhmer==1){
				alert("Μένει "+diafhmer+" μέρα");
			}
			else if(diafhmer>1 || diafhmer<=30 || diafhmer<=31){
				alert("Μένει 1 μήνας");
			}
			else if(diafhmer>30 || diafhmer>31){
				if(diafhmer>=60){
					alert("Μένουν 2 μήνες");
				}
				if(diafhmer>=90){
					alert("Μένουν 3 μήνες");
				}
				if(diafhmer>=120){
					alert("Μένουν 4 μήνες");
				}
			}
		}
		
		</script> 
		<script>
			$(document).ready(function(){
				$("#datearea").hide();
				$("#errorMessage1").hide();
				$("#errorMessage2").hide();
				$("#errorMessage3").hide();
				$("#errorMessage4").hide();
			});
			$(document).ready(function(){
				$("#proigMetrhm").click(function(){
					$("#errorMessage1").show();
				});
				$("#toriniMetrhm").click(function(){
					$("#errorMessage2").show();
				});
				$("#proigMetrny").click(function(){
					$("#errorMessage3").show();
				});
				$("#toriniMetrny").click(function(){
					$("#errorMessage4").show();
				});
			});
			
					
					
			$(document).ready(function(){
				$("#eidopoihsh").click(function(){
					$("#datearea").show();
					$("#hmeres").hide();
					$("#eidopoihsh").hide();
				});
			});
			$(document).ready(function(){
				$("#buttonMeres").click(function(){
					$("#hmeres").show();
				});
			});
		</script>
		<link rel="shortcut icon" type="image/x-icon" href="lampa.jpg"/>
	</head>
	<body>
		<title>Πληρωμή Ρεύματος Τέστ</title> 
		<h1>Καταμέτρηση Ρεύματος</h1>
		<hr></hr>
		<br>
		<table>
		<tr>
		<td><img src="./lampa.jpg"></td>
		<td>
		<form name="form1" method="GET">
		Τύπος λογαργιασμού:<input type="radio" name="typLog">Έναντι(μήνας)
		<input type="radio" name="typLog">Εκκαθαριστικός(τετράμηνος)<br><br>
		Προηγούμενη μέτρηση ημέρας:<input type="text" id="proigMetrhm" name="proigMetrhm" size="10" onBlur="checkmetrisi(form1.proigMetrhm)"> σε kwh
		<p id="errorMessage1"></p><br>
		Τωρινή μέτρηση ημέρας:<input type="text" id="toriniMetrhm" name="toriniMetrhm" size="10" onBlur="checkmetrisi2(form1.toriniMetrhm)"> σε kwh 
		<p id="errorMessage2"></p><br>
		Προηγούμενη μέτρηση νύχτας: <input type="text" id="proigMetrny" name="proigMetrny" size="10" onBlur="checkmetrisi3(form1.proigMetrny)"> σε kwh 
		<p id="errorMessage3"></p><br>
		Τωρινή μέτρηση νύχτας: <input type="text" id="toriniMetrny" name="toriniMetrny" size="10" onBlur="checkmetrisi4(form1.toriniMetrny)"> σε kwh 
		<p id="errorMessage4"></p><br>
		<input type="button" name="ypol_Reum" value="Υπολογισμός Ρεύματος" 
		onClick="diaforaHmerasNyxtas(form1.toriniMetrhm,form1.proigMetrhm,form1.toriniMetrny,form1.proigMetrny,form1.typLog)">
		<br>
		<br>
		<div id="datearea">
			<h3>Ειδοποίηση</h3>
			<br>
			<p id="hmeromhniaPlhrwmhs">Παρακαλώ εισάγετε την ημέρα τον μήνα και το έτος πληρωμής</p>
			<br>
			<input type="date" id="shmera" size="3">
			<input type="date" id="hmera" size="3">
			<br>
			<br>
			<input type="button" value="Υπολογισμός" id="buttonMeres" onclick="notify()">
			<br>
			<br>
			<p id="hmeres">Δώστε κάτι</p>
		</div>
		<input type="button" value="Ειδοποίηση" id="eidopoihsh">
		<br><br>
		<input type="button" value="Για διακοπές ρεύματος ΔΕΔΗΕ" onclick=window.location.href="https://siteapps.deddie.gr/outages2public"></input>
		<p>Τύπος λογαργιασμού:</p>
		<p id="typLog"></p>
		<p>Το ημερήσιο ρεύμα είναι:</p>
		<p id="poso_meras"></p>
		<p>Το νυχτερινό ρεύμα είναι:</p>
		<p id="poso_nyxtas"></p>
		<p>Το συνολικό ποσό ρεύματος είναι:</p>
		<p id="syn_poso_reumatos"></p>
		<p>Το συνολικό ποσό λογαργιασμού είναι:</p>
		<p id="syn_poso_log"></p>
		</form>
		</td>
		<td><img src="./lampa2.png"></td>
		</tr>
		</table>
	</body>
</html>
